<div class="w-full max-w-[1200px] flex flex-col gap-4">
  <div class="flex items-center justify-between gap-3 text-xs uppercase tracking-[0.2em] text-[#64748b]">
    <a class="text-[11px] font-semibold tracking-[0.2em] uppercase text-[#64748b] no-underline"
      routerLink="/access">Atras</a>
    <span>Registro</span>
  </div>

  <div
    class="bg-white border border-[rgba(148,163,184,0.25)] rounded-[22px] p-[18px] shadow-[0_18px_40px_rgba(15,23,42,0.12)] animate-float-in flex flex-col gap-5"
    *ngIf="isLoading">
    <p class="text-[13px] text-[#64748b] m-0">Cargando registro...</p>
  </div>

  <div
    class="bg-white border border-[rgba(148,163,184,0.25)] rounded-[22px] p-[18px] shadow-[0_18px_40px_rgba(15,23,42,0.12)] animate-float-in flex flex-col gap-5"
    *ngIf="!isLoading">
    <div class="flex items-start justify-between gap-3">
      <div>
        <h1 class="text-[22px] font-bold m-0">{{ isEdit ? 'Editar Registro' : 'Registro de Usuario Nuevo' }}</h1>
        <p class="text-[13px] text-[#64748b] m-0">Complete el perfil para continuar con la encuesta.</p>
      </div>
      <span
        class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-[rgba(0,230,0,0.15)] text-[#166534] text-[11px] font-semibold">{{
        progressValue }}%</span>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-[18px_24px]">
      <section class="flex flex-col gap-3 pb-3 border-b border-[rgba(148,163,184,0.2)]">
        <div class="flex items-center gap-2.5">
          <span class="w-8 h-8 rounded-[10px] bg-[rgba(0,230,0,0.15)] text-[#00e600] grid place-items-center">
            <svg class="w-[18px] h-[18px] fill-current" viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M12 3.5a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9zm0 10.5c3.7 0 6.9 2 8.5 5$.4.7-.1 1.5-.9 1.5H4.4c-.8 0-1.3-.8-.9-1.5 1.6-3 4.8-5 8.5-5z" />
            </svg>
          </span>
          <div>
            <h3 class="text-[15px] font-bold m-0 mb-1">Informacion Personal</h3>
            <p class="text-xs text-[#94a3b8] m-0">Datos basicos del beneficiario</p>
          </div>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
          <div>
            <label
              class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Documento</label>
            <input
              class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
              type="text" placeholder="Ej: 12345678" [(ngModel)]="form.documentNumber" />
          </div>
          <div>
            <label class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Tipo de
              documento</label>
            <select
              class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
              [(ngModel)]="form.documentType">
              <option value="IDENTIDAD">Documento de identidad</option>
              <option value="CEDULA">Cedula</option>
              <option value="PASAPORTE">Pasaporte</option>
              <option value="PEP">PEP</option>
            </select>
          </div>
          <div>
            <label
              class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Nombre</label>
            <input
              class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
              type="text" placeholder="Ej: Juan" [(ngModel)]="form.firstName" />
          </div>
          <div>
            <label class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Segundo
              nombre</label>
            <input
              class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
              type="text" placeholder="Opcional" [(ngModel)]="form.middleName" />
          </div>
          <div>
            <label
              class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Apellidos</label>
            <input
              class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
              type="text" placeholder="Ej: Perez" [(ngModel)]="form.lastName" />
          </div>
          <div>
            <label
              class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Nacionalidad</label>
            <input
              class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
              type="text" placeholder="Ej: Colombiana" [(ngModel)]="form.nationality" />
          </div>
          <div>
            <label class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Fecha de
              nacimiento</label>
            <input
              class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
              type="date" [(ngModel)]="form.birthDate" />
          </div>
          <div>
            <label
              class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Genero</label>
            <select
              class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
              [(ngModel)]="form.gender">
              <option [ngValue]="undefined">Seleccione</option>
              <option value="FEMENINO">Femenino</option>
              <option value="MASCULINO">Masculino</option>
              <option value="OTRO">Otro</option>
            </select>
          </div>
          <div>
            <label class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Edad</label>
            <input
              class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
              type="number" placeholder="Ej: 28" [(ngModel)]="form.age" />
          </div>
        </div>
      </section>

      <div class="flex flex-col gap-[18px_24px]">
        <section class="flex flex-col gap-3 pb-3 border-b border-[rgba(148,163,184,0.2)] lg:border-none">
          <div class="flex items-center gap-2.5">
            <span class="w-8 h-8 rounded-[10px] bg-[rgba(0,230,0,0.15)] text-[#00e600] grid place-items-center">
              <svg class="w-[18px] h-[18px] fill-current" viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M4.5 6.5a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-11a2 2 0 0 1-2-2v-11zm2 0v11h11v-11h-11zm2 2h7v2h-7v-2zm0 4h7v2h-7v-2z" />
              </svg>
            </span>
            <div>
              <h3 class="text-[15px] font-bold m-0 mb-1">Contacto</h3>
              <p class="text-xs text-[#94a3b8] m-0">Canales para comunicarnos contigo</p>
            </div>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
            <div class="sm:col-span-2">
              <label
                class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Direccion</label>
              <input
                class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
                type="text" placeholder="Calle, carrera, numero" [(ngModel)]="form.address" />
            </div>
            <div>
              <label class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Telefono
                principal</label>
              <input
                class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
                type="tel" placeholder="Ej: 57 300 000 0000" [(ngModel)]="form.phonePrimary" />
            </div>
            <div>
              <label class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Telefono
                secundario</label>
              <input
                class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
                type="tel" placeholder="Opcional" [(ngModel)]="form.phoneSecondary" />
            </div>
            <div class="sm:col-span-2">
              <label
                class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Correo</label>
              <input
                class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
                type="email" placeholder="usuario@correo.com" [(ngModel)]="form.email" />
            </div>
          </div>
        </section>

        <section class="flex flex-col gap-3 pb-3">
          <div class="flex items-center gap-2.5">
            <span class="w-8 h-8 rounded-[10px] bg-[rgba(0,230,0,0.15)] text-[#00e600] grid place-items-center">
              <svg class="w-[18px] h-[18px] fill-current" viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M4 6.5h16a1 1 0 0 1 1 1v9a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-9a1 1 0 0 1 1-1zm2 2v7h12v-7H6zm2 1.5h4v2H8v-2z" />
              </svg>
            </span>
            <div>
              <h3 class="text-[15px] font-bold m-0 mb-1">Emprendimiento</h3>
              <p class="text-xs text-[#94a3b8] m-0">Detalles del proyecto de negocio</p>
            </div>
          </div>
          <div class="grid grid-cols-1 gap-3">
            <div>
              <label class="text-[11px] font-semibold uppercase tracking-[0.2em] text-[#94a3b8] mb-1.5 block">Nombre del
                emprendimiento</label>
              <input
                class="w-full rounded-[14px] border border-[#e2e8f0] p-[12px_14px] text-sm bg-white text-[#0f172a] outline-none transition-all focus:border-[#00e600] focus:shadow-[0_0_0_3px_rgba(0,230,0,0.15)]"
                type="text" placeholder="Ej: Panaderia El Sol" [(ngModel)]="form.ventureName" />
            </div>
          </div>
        </section>
      </div>
    </div>

    <div class="flex flex-col gap-4 pt-3 border-t border-[rgba(148,163,184,0.2)]">
      <label class="flex items-center gap-2 text-xs text-[#64748b]">
        <input class="w-4 h-4 accent-[#00e600]" type="checkbox" />
        <span>Acepto los <a class="text-[#16a34a] font-semibold no-underline" routerLink="/assistant">terminos y
            condiciones</a> y la politica de privacidad.</span>
      </label>
      <div class="flex gap-3 items-center justify-end flex-wrap">
        <a class="w-full sm:w-auto inline-flex items-center justify-center py-2.5 px-[18px] border border-[#cbd5e1] rounded-2xl text-sm font-semibold text-[#1e293b] bg-white cursor-pointer no-underline"
          routerLink="/access">Cancelar</a>
        <button
          class="w-full sm:w-auto sm:min-w-[180px] border-none rounded-2xl py-3 px-4 text-[15px] font-bold bg-[#00e600] text-[#032f03] cursor-pointer shadow-[0_12px_20px_rgba(0,230,0,0.25)] transition-all hover:-translate-y-0.5 hover:shadow-[0_16px_28px_rgba(0,230,0,0.28)] disabled:opacity-60 disabled:cursor-not-allowed"
          type="button" (click)="register()" [disabled]="isSaving">
          {{ isSaving ? 'Guardando...' : (isEdit ? 'Actualizar' : 'Registrarme') }}
        </button>
      </div>
    </div>
    <p class="text-xs text-[#dc2626] m-0" *ngIf="errorMessage">{{ errorMessage }}</p>
  </div>
</div>